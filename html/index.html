<html> <!--Front page for redhen spectra-->
    <head>
        <link rel='stylesheet' href='main.css'> <!--Link to stylesheet-->
        <link rel='shortcut icon' href='favicon.ico'> <!--Favicon for site-->
        <script language="JavaScript"> //Scripts for the page
            document.file_loaded = function(file)
            {
                alert(file);
            }
            function browse() //Browse button clicked
            {
                var browse_options = document.getElementById('browse_options');
                var selected = browse_options.options[browse_options.selectedIndex].value;
                var browse_dialog = document.getElementById('browse_dialog');
                //browse_dialog.innerHTML = 'Browse '+selected;
                browse_dialog.style.display = "block";
            }
            function done_browsing()
            {
                var browse_dialog = document.getElementById('browse_dialog');
                browse_dialog.style.display = "none";
                document.getElementById('loaded_list').innerHTML += '<div>'+document.getElementById('combobox_text').value+'</div>';
            }
            function combobox_typed()
            {
                var combobox_text = document.getElementById('combobox_text');
                var combobox_dropdown = document.getElementById('combobox_dropdown');
                combobox_dropdown.innerHTML += '<div onclick="combobox_clicked(\''+combobox_text.value+'\')">'+combobox_text.value+'</div>';
                combobox_dropdown.style.display = 'block';
            }
            function combobox_clicked(text)
            {
                document.getElementById('combobox_text').value = text;
            }
            function compare() //Compare button clicked
            {
                var compare_options = document.getElementById('compare_options');
                var selected = compare_options.options[compare_options.selectedIndex].value;
                document.getElementById('loaded_list').style.display = 'none';
                document.getElementById('graph').style.display = 'block';
                document.getElementById('results').style.display = 'block';
                document.getElementById('results').innerHTML = '<div style="margin:10px;">methanol<br>ethanol<br>propanol<br>butanol</div>';
                document.getElementById('graph').innerHTML = "<img src='graph_mockup.png'>";
                document.body.style.padding = '0px';
                alert('Compare '+selected);
            }
            function browseChanged() //Make file upload frame go away when not selected
            {
                var browse_options = document.getElementById('browse_options');
                var selected = browse_options.options[browse_options.selectedIndex].value;
                if(selected == 'my computer') document.getElementById('file_frame').style.display = "block";
                else document.getElementById('file_frame').style.display = "none";
            }
        </script>
    </head>
    <body style='text-align:center; padding:40px;'> <!--Core HTML:-->
        <img src='banner.png'><!--Banner image-->
        
        <table style='margin:auto;'> <!--Layout table, holds site's pieces in order-->
        
        <tr><td rowspan='2'> <div id='graph' class='graph'></div> </td> <!--Graph of results-->   

        <td> <div class='frontpage-controls' id='controls'> <!--Main controls-->
            <table class='controls-table'>
                <tr>
                    <td><input type='button' id='browse_button' value='Browse' onclick='browse()' class='button'></td>
                    <td><select id='browse_options' class='listbox' onchange='browseChanged()'>
                        <option>my computer</option>
                        <option>my projects</option>
                        <option>main library</option>
                    </select></td>
                </tr>
                <tr>
                    <td><input type='button' value='Compare' onclick='compare()' class='button'></td>
                    <td><select id='compare_options' class='listbox'>
                        <option>to main library</option>
                        <option>to my projects</option>
                        <option>to each other</option>
                    </select></td>
                </tr>
            </table>
            
            <iframe class='invisible-frame' scrolling="no" id='file_frame' src='file_upload_frame.html'></iframe>
            
            <div class='browse-dialog' id='browse_dialog'> <!--Browse dialog, usually invisible-->
                Enter a chemical name to search:
                <input type='text' class='combobox-text' id='combobox_text' onkeyup='combobox_typed()'>
                <div class='combobox-dropdown' id='combobox_dropdown'></div>
                <input type='button' value='Done' onclick='done_browsing()'>
            </div>
        </div> </td></tr> <!--End of main controls-->
        
        <tr><td> <div id='results' class='results'></div> <!--List of results-->
        </td></tr> </table> <!--End of layout table-->
        
        <div id='loaded_list' class='loaded-list'></div> <!--List of loaded files-->
        
    </body>
</html>
