<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>backend</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/cooper-redhen">RedHen</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Module&nbsp;backend
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="backend-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module backend</h1><p class="nomargin-top"><span class="codelink"><a href="backend-pysrc.html">source&nbsp;code</a></span></p>
<p>Provide functions for identifying a spectrum for an unknown substance 
  using various methods of database searching.</p>

<hr />
<div class="fields">      <p><strong>Organization:</strong>
        The Cooper Union for the Advancement of the Science and the Arts
      </p>
      <p><strong>License:</strong>
        http://opensource.org/licenses/lgpl-3.0.html GNU Lesser General 
        Public License v3.0
      </p>
      <p><strong>Copyright:</strong>
        Copyright (c) 2010, Cooper Union (Some Right Reserved)
      </p>
</div><!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="backend.Spectrum-class.html" class="summary-name">Spectrum</a><br />
      Store a spectrum, its related data, and any algorithms necessary to 
      compare the spectrum to the DataStore.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="backend.Matcher-class.html" class="summary-name">Matcher</a><br />
      Store spectra data necessary for searching the database, then search 
      the database for candidates that may represent a given spectrum.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code>list</code> of <a href="backend.Spectrum-class.html" 
      class="link">backend.Spectrum</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="backend-module.html#search" class="summary-sig-name">search</a>(<span class="summary-sig-arg">spectrum_data</span>)</span><br />
      Search for a spectrum based on a given file descriptor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="backend-pysrc.html#search">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code>int</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="backend-module.html#compare" class="summary-sig-name">compare</a>(<span class="summary-sig-arg">data1</span>,
        <span class="summary-sig-arg">data2</span>,
        <span class="summary-sig-arg">algorithm</span>=<span class="summary-sig-default">&quot;bove&quot;</span>)</span><br />
      Compare two spectra using the given algorithm.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="backend-pysrc.html#compare">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code>list</code> of <a href="backend.Spectrum-class.html" 
      class="link">backend.Spectrum</a></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="backend-module.html#browse" class="summary-sig-name">browse</a>(<span class="summary-sig-arg">target</span>,
        <span class="summary-sig-arg">limit</span>=<span class="summary-sig-default">10</span>,
        <span class="summary-sig-arg">offset</span>=<span class="summary-sig-default">0</span>)</span><br />
      Get a list of spectrum for browsing.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="backend-pysrc.html#browse">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="backend-module.html#add" class="summary-sig-name">add</a>(<span class="summary-sig-arg">spectrum_data</span>,
        <span class="summary-sig-arg">target</span>=<span class="summary-sig-default">&quot;public&quot;</span>)</span><br />
      Add a new spectrum to the database from a given file descriptor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="backend-pysrc.html#add">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="backend-module.html#delete" class="summary-sig-name">delete</a>(<span class="summary-sig-arg">spectrum_data</span>,
        <span class="summary-sig-arg">target</span>=<span class="summary-sig-default">&quot;public&quot;</span>)</span><br />
      Delete a spectrum from the database and Matcher.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="backend-pysrc.html#delete">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <span title="re">re</span>,
  <span title="pickle">pickle</span>,
  <span title="bisect">bisect</span>,
  <span title="operator">operator</span>,
  <span title="google.appengine.ext.db">db</span>,
  <span title="google.appengine.api.memcache">memcache</span>,
  <span title="google.appengine.api.users">users</span>,
  <a href="common-module.html" title="common">common</a>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="search"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">search</span>(<span class="sig-arg">spectrum_data</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="backend-pysrc.html#search">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Search for a spectrum based on a given file descriptor.</p>
  <p>Parse the given file and create a Spectrum object for it. Use the 
  Matcher object to find candidates for similar spectra in the database and
  compare all candidates to the original spectrum using linear comparison 
  algorithms.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spectrum_data</code></strong> (<code>str</code>) - String containing spectrum information</li>
    </ul></dd>
    <dt>Returns: <code>list</code> of <a href="backend.Spectrum-class.html" 
      class="link">backend.Spectrum</a></dt>
        <dd>List of candidates similar to the input spectrum</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="common.InputError-class.html">common.InputError</a></strong></code> - If a non-string is given as spectrum_data</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="compare"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">compare</span>(<span class="sig-arg">data1</span>,
        <span class="sig-arg">data2</span>,
        <span class="sig-arg">algorithm</span>=<span class="sig-default">&quot;bove&quot;</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="backend-pysrc.html#compare">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Compare two spectra using the given algorithm.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>data1</code></strong> (<code>str</code>) - String containing spectrum information</li>
        <li><strong class="pname"><code>data2</code></strong> (<code>str</code>) - String containing spectrum information</li>
    </ul></dd>
    <dt>Returns: <code>int</code></dt>
        <dd>Calculated error between the two spectra</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="common.InputError-class.html">common.InputError</a></strong></code> - If a non-string is given as spectrum_data or if an invalid 
        algorithm is given.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="browse"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">browse</span>(<span class="sig-arg">target</span>,
        <span class="sig-arg">limit</span>=<span class="sig-default">10</span>,
        <span class="sig-arg">offset</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="backend-pysrc.html#browse">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get a list of spectrum for browsing.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>target</code></strong> (<code>str</code> or <code 
          class="link">google.appengine.api.users.User</code>) - Where to list spectrum from (&quot;public&quot; or 
          &quot;private&quot;)</li>
        <li><strong class="pname"><code>limit</code></strong> (<code>int</code>) - Number of spectra to list</li>
        <li><strong class="pname"><code>offset</code></strong> (<code>int</code>) - Where to start listing from (for pagination)</li>
    </ul></dd>
    <dt>Returns: <code>list</code> of <a href="backend.Spectrum-class.html" 
      class="link">backend.Spectrum</a></dt>
        <dd>List of spectra</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="common.InputError-class.html">common.InputError</a></strong></code> - If the user tries to retrieve too many spectra at once, the user is
        not logged in and tries to access a private database, or if an 
        invalid database choice is given.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="add"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">add</span>(<span class="sig-arg">spectrum_data</span>,
        <span class="sig-arg">target</span>=<span class="sig-default">&quot;public&quot;</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="backend-pysrc.html#add">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Add a new spectrum to the database from a given file descriptor.</p>
  <p>Parse the given file and create a Spectrum object for it. If the 
  Matcher object does not yet exist, create it. Then store the spectrum in 
  the database and add any necessary sorting data to the Matcher 
  object.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spectrum_data</code></strong> (<code>str</code>) - String containing spectrum information</li>
        <li><strong class="pname"><code>target</code></strong> (<code>&quot;public&quot;</code> or <code 
          class="link">google.appengine.api.users.User</code>) - Where to store the spectrum</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="common.InputError-class.html">common.InputError</a></strong></code> - If a non-string is given as spectrum_data</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="delete"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">delete</span>(<span class="sig-arg">spectrum_data</span>,
        <span class="sig-arg">target</span>=<span class="sig-default">&quot;public&quot;</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="backend-pysrc.html#delete">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Delete a spectrum from the database and Matcher.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spectrum_data</code></strong> (<code>str</code>) - String containing database keys</li>
        <li><strong class="pname"><code>target</code></strong> (<code>&quot;public&quot;</code> or <code 
          class="link">google.appengine.api.users.User</code>) - Where to store the spectrum</li>
    </ul></dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'><a href="common.InputError-class.html">common.InputError</a></strong></code> - If a non-string is given as spectrum_data</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/cooper-redhen">RedHen</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    <a href="epydoc-log.html">Generated by Epydoc
    3.0.1 on Thu Jul 22 21:52:49 2010</a>
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
