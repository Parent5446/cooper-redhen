<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>api.ApiHandler</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/cooper-redhen">RedHen</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="api-module.html">Module&nbsp;api</a> ::
        Class&nbsp;ApiHandler
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="api.ApiHandler-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class ApiHandler</h1><p class="nomargin-top"><span class="codelink"><a href="api-pysrc.html#ApiHandler">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_api_apih" name="uml_class_diagram_for_api_apih">
<area shape="rect" href="api.ApiHandler-class.html#post" title="Handle a POST request to the API." alt="" coords="17,36,271,55"/>
<area shape="rect" href="api.ApiHandler-class.html#handle_exception" title="Handle any exceptions raised by the handler." alt="" coords="17,55,271,73"/>
<area shape="rect" href="api.ApiHandler-class.html#process_request" title="Process an API request." alt="" coords="17,73,271,92"/>
<area shape="rect" href="api.ApiHandler-class.html" title="Handle any API requests and return a JSON response." alt="" coords="16,11,272,93"/>
</map>
  <img src="uml_class_diagram_for_api_apih.gif" alt='' usemap="#uml_class_diagram_for_api_apih" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>Handle any API requests and return a JSON response.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="api.ApiHandler-class.html#post" class="summary-sig-name">post</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Handle a POST request to the API.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="api-pysrc.html#ApiHandler.post">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="api.ApiHandler-class.html#handle_exception" class="summary-sig-name">handle_exception</a>(<span class="summary-sig-arg">exception</span>,
        <span class="summary-sig-arg">debug_mode</span>)</span><br />
      Handle any exceptions raised by the handler.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="api-pysrc.html#ApiHandler.handle_exception">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code>list</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="api.ApiHandler-class.html#process_request" class="summary-sig-name">process_request</a>(<span class="summary-sig-arg">action</span>,
        <span class="summary-sig-arg">args</span>)</span><br />
      Process an API request.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="api-pysrc.html#ApiHandler.process_request">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="post"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">post</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="api-pysrc.html#ApiHandler.post">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Handle a POST request to the API.</p>
  <p>Load the JSON object in the request and hand it off to 
  self.process_request. Then put the response back in JSON format and give 
  back to the user.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="handle_exception"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">handle_exception</span>(<span class="sig-arg">exception</span>,
        <span class="sig-arg">debug_mode</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="api-pysrc.html#ApiHandler.handle_exception">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Handle any exceptions raised by the handler.</p>
  <p>This is called by App Engine if an exception is raised. If there is a 
  server error, let Google handle it appropriately. If there is an input 
  error, print a custom error message.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>exception</code></strong> (<code>Exception</code> or one of its children) - The Exception that was raised</li>
        <li><strong class="pname"><code>debug_mode</code></strong> (<code>bool</code>) - Whether to print deubgging information or not</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="process_request"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">process_request</span>(<span class="sig-arg">action</span>,
        <span class="sig-arg">args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="api-pysrc.html#ApiHandler.process_request">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Process an API request.</p>
  <p>Take a given action and args and process an API request. If the action
  is 'search', search the database for any spectrum files uploaded or get 
  any history items if they are provided as the 'target'. If the action is 
  'history', get the history of searches for the current user.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>action</code></strong> (<code>str</code>) - What to do</li>
        <li><strong class="pname"><code>args</code></strong> (<code>dict</code>) - List of arguments for the action</li>
    </ul></dd>
    <dt>Returns: <code>list</code></dt>
        <dd>Response to the request</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://code.google.com/p/cooper-redhen">RedHen</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    <a href="epydoc-log.html">Generated by Epydoc
    3.0.1 on Sat Jul 17 18:49:52 2010</a>
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
